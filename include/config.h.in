#ifndef __HANDBE_DEVICE_CONF__H__
#define __HANDBE_DEVICE_CONF__H__

//Basic defines for processing other defines
#define HBC_xstr(a) HBC_str(a)
#define HBC_str(a) #a

//The current version
#define handbeDevice_VERSION @handbeDevice_VERSION@
#define VERSION HBC_xstr(handbeDevice_VERSION)
#define RPI_VERSION_BAK @RPI_VERSION@
#define RPI_VERSION (string(HBC_xstr(RPI_VERSION_BAK)))

/**********************
 * GLOBAL CONFIGURATION
 *********************/
#cmakedefine PIPELINE_IR
#cmakedefine PIPELINE_COLOR

#cmakedefine RPI_GPIO

/**********************
 * FRONTEND CONFIGURATION
 *********************/
#cmakedefine FB_FRONTEND

#ifdef FB_FRONTEND
  #define FB_FRONTEND_FBDEV HBC_xstr(@FB_FRONTEND_FBDEV@)
  #define FB_FRONTEND_FBDIR HBC_xstr(@FB_FRONTEND_FBDIR@)
  #define FB_FRONTEND_WIDTH @FB_FRONTEND_WIDTH@
  #define FB_FRONTEND_HEIGHT @FB_FRONTEND_HEIGHT@
  #define FB_FRONTEND_PIXELSIZE @FB_FRONTEND_PIXELSIZE@
#endif

/**********************
 * CAMERA CONFIGURATION
 *********************/
#cmakedefine CAMERA_DIRECTORY

#ifdef CAMERA_DIRECTORY
    #define CAMERA_DIRECTORY_PATH HBC_xstr(@CAMERA_DIRECTORY_PATH@)
    #cmakedefine CAMERA_DIRECTORY_REWIND
#endif

#cmakedefine CAMERA_RASPBERRY

#ifdef CAMERA_RASPBERRY
    #define CAMERA_RASPBERRY_HEIGHT @CAMERA_RASPBERRY_HEIGHT@
    #define CAMERA_RASPBERRY_WIDTH  @CAMERA_RASPBERRY_WIDTH@
#endif

#cmakedefine CAMERA_WEBCAM

#ifdef CAMERA_WEBCAM
    #define CAMERA_WEBCAM_HEIGHT @CAMERA_WEBCAM_HEIGHT@
    #define CAMERA_WEBCAM_WIDTH  @CAMERA_WEBCAM_WIDTH@
#endif


/**********************
 * IMG-Rectifier CONFIGURATION
 *********************/
#cmakedefine IMGPROC_RECTIFIER
#ifdef IMGPROC_RECTIFIER
    #define IMGPROC_RECTIFIER_PATH HBC_xstr(@IMGPROC_RECTIFIER_PATH@)
#endif

/**********************
 * IMG-BG SUSBSTRACTION CONFIGURATION
 *********************/
#cmakedefine IMGPROC_BGSUBSTRACTION

/**********************
 * IMG-RESIZE CONFIGURATION
 *********************/
#cmakedefine IMGPROC_RESIZE_AFTERBG_IR 
#ifdef IMGPROC_RESIZE_AFTERBG_IR 
  #define IMGPROC_RESIZE_AFTERBG_IR_WIDTH @IMGPROC_RESIZE_AFTERBG_IR_WIDTH@
  #define IMGPROC_RESIZE_AFTERBG_IR_HEIGHT @IMGPROC_RESIZE_AFTERBG_IR_HEIGHT@
#endif

#cmakedefine IMGPROC_RESIZE_AFTERBG_COLOR 
#ifdef IMGPROC_RESIZE_AFTERBG_COLOR 
  #define IMGPROC_RESIZE_AFTERBG_COLOR_WIDTH @IMGPROC_RESIZE_AFTERBG_COLOR_WIDTH@
  #define IMGPROC_RESIZE_AFTERBG_COLOR_HEIGHT @IMGPROC_RESIZE_AFTERBG_COLOR_HEIGHT@
#endif

/**********************
 * IMG-CLEAN HAND CONFIGURATION
 *********************/
#cmakedefine IMGPROC_CLEANHAND_IR
#cmakedefine IMGPROC_CLEANHAND_COLOR

//Particuar config
#define HAND_CLEANER_LOW_BINARY @HAND_CLEANER_LOW_BINARY@
#define HAND_CLEANER_HIGH_BINARY @HAND_CLEANER_HIGH_BINARY@
#define HAND_CLEANER_LOW_BINARY_INV @HAND_CLEANER_LOW_BINARY_INV@
#define HAND_CLEANER_HIGH_BINARY_INV @HAND_CLEANER_HIGH_BINARY_INV@
#define HAND_CLEANER_LOW_OTSU @HAND_CLEANER_LOW_OTSU@
#define HAND_CLEANER_HIGH_OTSU @HAND_CLEANER_HIGH_OTSU@
#define HAND_CLEANER_BLUR_SIZE @HAND_CLEANER_BLUR_SIZE@

/**********************
 * IMG-HAND DETECTOR CONFIGURATION
 *********************/
#cmakedefine IMGPROC_HANDDETECTOR_IR
#cmakedefine IMGPROC_HANDDETECTOR_COLOR

//Particuar config
#define IMGPROC_HANDDETECTOR_IR_WIDTH @IMGPROC_HANDDETECTOR_IR_WIDTH@ 
#define IMGPROC_HANDDETECTOR_IR_HEIGHT @IMGPROC_HANDDETECTOR_IR_HEIGHT@ 

#define IMGPROC_HANDDETECTOR_COLOR_WIDTH @IMGPROC_HANDDETECTOR_COLOR_WIDTH@ 
#define IMGPROC_HANDDETECTOR_COLOR_HEIGHT @IMGPROC_HANDDETECTOR_COLOR_HEIGHT@ 

#define IMGPROC_HANDDETECTOR_DKP_MAX @IMGPROC_HANDDETECTOR_DKP_MAX@ 
#define IMGPROC_HANDDETECTOR_RATIO_MAX @IMGPROC_HANDDETECTOR_RATIO_MAX@ 
#define IMGPROC_HANDDETECTOR_RATIO_MIN @IMGPROC_HANDDETECTOR_RATIO_MIN@ 
#define IMGPROC_HANDDETECTOR_ANGLE_MAX @IMGPROC_HANDDETECTOR_ANGLE_MAX@ 
#define IMGPROC_HANDDETECTOR_ANGLE_MIN @IMGPROC_HANDDETECTOR_ANGLE_MIN@ 
#define IMGPROC_HANDDETECTOR_ANGLE_NEG @IMGPROC_HANDDETECTOR_ANGLE_NEG@ 

/**********************
 * IMG-HANDROI CONFIGURATION
 *********************/
#cmakedefine IMGPROC_HANDROI_IR
#cmakedefine IMGPROC_HANDROI_COLOR

#define IMGPROC_HANDROI_VEIN_PERCENTILE @IMGPROC_HANDROI_VEIN_PERCENTILE@

/**********************
 * SAVE RESULTS CONFIGURATION
 *********************/
#cmakedefine SAVE_FINALRESULTS
#ifdef SAVE_FINALRESULTS
    #define SAVE_FINALRESULTS_PATH HBC_xstr(@SAVE_FINALRESULTS_PATH@)
#endif

/**********************
 * FINAL PROCESSING CONFIGURATION
 *********************/
#cmakedefine FINAL_SIMPLEIDENTIFY
#cmakedefine FINAL_SIMPLEREGISTER
#cmakedefine FINAL_NFCREGISTER
#cmakedefine FINAL_NFCIDENT
#cmakedefine FINAL_DOORMANAGER

#define FINAL_USER HBC_xstr(@FINAL_USER@)
#define FINAL_PASS HBC_xstr(@FINAL_PASS@)

// REGISTER OPTIONS
#define FINAL_REGISTER_HANDCNT @FINAL_REGISTER_HANDCNT@

// FINAL_NFCIDENT
#define FINAL_NFCIDENT_WAIT @FINAL_NFCIDENT_WAIT@
#define FINAL_NFCIDENT_WAITR @FINAL_NFCIDENT_WAITR@

// DOORMANAGER OPTIONS
//#ifdef FINAL_DOORMANAGER
    #define FINAL_DOORMANAGER_GPIO_0 @FINAL_DOORMANAGER_GPIO_0@
    #define FINAL_DOORMANAGER_GPIO_1 @FINAL_DOORMANAGER_GPIO_1@
    #define FINAL_DOORMANAGER_GPIO_0_CLOSESTATE @FINAL_DOORMANAGER_GPIO_0_CLOSESTATE@
    #define FINAL_DOORMANAGER_GPIO_1_CLOSESTATE @FINAL_DOORMANAGER_GPIO_1_CLOSESTATE@
    #define FINAL_DOORMANAGER_SECONDS @FINAL_DOORMANAGER_SECONDS@
    #define FINAL_DOORMANAGER_SKIPSECONDS @FINAL_DOORMANAGER_SKIPSECONDS@
//#endif

/**********************
 * RUNTIME CONFIGURATION
 *********************/
#cmakedefine RT_SHALLSTOP

#ifdef RT_SHALLSTOP
    #define RT_STOPCNT @RT_STOPCNT@
#endif

#cmakedefine RT_STOPONEXCEPTION

#endif
